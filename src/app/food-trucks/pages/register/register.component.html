<div class="page">
  <h1>New Food Truck</h1>
  <h2>{{isEditMode ? 'Edit Food Truck': 'Add New Food Truck'}}</h2>
  <form (submit)="onSubmit()" #FoodTruckForm="ngForm">
    <!-- primer nombre -->
    <mat-form-field>
      <input matInput placeholder="First Name" name="ownerFirstName" required [(ngModel)]="FoodTruckData.ownerFirstName"/>
    </mat-form-field>
    <!-- apellido -->
    <mat-form-field>
      <input matInput placeholder="Last Name" name="ownerLastName" required [(ngModel)]="FoodTruckData.ownerLastName"/>
    </mat-form-field>
    <!-- brand name -->
    <mat-form-field>
      <input matInput placeholder="Your Food Truck or Brand Name" name="brandName" required [(ngModel)]="FoodTruckData.brandName"/>
    </mat-form-field>
    <!-- email -->
    <mat-form-field>
      <input matInput placeholder="account@domain.com" name="email" required [(ngModel)]="FoodTruckData.email"/>
    </mat-form-field>
    <!-- address -->
    <mat-form-field>
      <input matInput placeholder="Address" name="address" [(ngModel)]="FoodTruckData.address"/>
    </mat-form-field>
    <!-- websiteUrl -->
    <mat-form-field>
      <input matInput placeholder="Website URL" name="websiteUrl" [(ngModel)]="FoodTruckData.websiteUrl"/>
    </mat-form-field>
    <!-- menuURL -->
    <mat-form-field>
      <input matInput placeholder="Menu URL" name="menuURL" [(ngModel)]="FoodTruckData.menuUrl"/>
    </mat-form-field>

    <ng-container *ngIf="isEditMode; else elseTemplate">
      <button mat-button color="primary" (click)="updatefoodTruck()">Save</button>
      <button mat-button color="warm" (click)="cancelEdit()">Cancel</button>
    </ng-container>

    <ng-template #elseTemplate>
      <button mat-button color="primary">Add</button>
    </ng-template>
  </form>
  <table mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8">
    <ng-comtainer matColumnDef="id">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>#Id</th>
      <td mat-cell *matCellDef="let element">{{element.id}}</td>
    </ng-comtainer>

    <ng-comtainer matColumnDef="ownerFirstName">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>First Name</th>
      <td mat-cell *matCellDef="let element">{{element.ownerFirstName}}</td>
    </ng-comtainer>

    <ng-comtainer matColumnDef="ownerLastName">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Last Name</th>
      <td mat-cell *matCellDef="let element">{{element.ownerLastName}}</td>
    </ng-comtainer>

    <ng-comtainer matColumnDef="brandName">
      <th mat-header-cell *matHeaderCellDef>Food Truck or Brand Name</th>
      <td mat-cell *matCellDef="let element">{{element.brandName}}</td>
    </ng-comtainer>

    <ng-comtainer matColumnDef="email">
      <th mat-header-cell *matHeaderCellDef>Email</th>
      <td mat-cell *matCellDef="let element">{{element.email}}</td>
    </ng-comtainer>

    <ng-comtainer matColumnDef="address">
      <th mat-header-cell *matHeaderCellDef>Address</th>
      <td mat-cell *matCellDef="let element">{{element.address}}</td>
    </ng-comtainer>

    <ng-comtainer matColumnDef="websiteUrl">
      <th mat-header-cell *matHeaderCellDef>Website URL</th>
      <td mat-cell *matCellDef="let element">{{element.websiteUrl}}</td>
    </ng-comtainer>

    <ng-comtainer matColumnDef="menuURL">
      <th mat-header-cell *matHeaderCellDef>Menu URL</th>
      <td mat-cell *matCellDef="let element">{{element.menuUrl}}</td>
    </ng-comtainer>

    <ng-container matColumnDef="actions">
      <th mat-header-cell *matHeaderCellDef>Actions</th>
      <td mat-cell *matCellDef="let element">
        <button (click)="editFoodTruck(element)"><mat-icon>edit</mat-icon></button>
        <button (click)="deleteFoodTruck(element.id)"><mat-icon>delete</mat-icon></button>
      </td>
    </ng-container>
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns" [ngClass]="{'editable-row': FoodTruckData.id == row.id}"></tr>
  </table>
  <mat-paginator [pageSize]="5" [pageSizeOptions]="[5,10,15]" showFirstLastButtons=""></mat-paginator>
</div>
